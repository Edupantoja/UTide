
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Usage &#8212; UTide 0.2.7.dev5+g8c97f5e documentation</title>
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Internal details" href="internals/index.html" />
    <link rel="prev" title="Strategy" href="strategy.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="internals/index.html" title="Internal details"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="strategy.html" title="Strategy"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">UTide 0.2.7.dev5+g8c97f5e documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Usage</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="usage">
<h1>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<div class="section" id="solve">
<h2>solve<a class="headerlink" href="#solve" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="utide.solve">
<code class="sig-prename descclassname"><span class="pre">utide.</span></code><code class="sig-name descname"><span class="pre">solve</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">u</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">opts</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utide/_solve.html#solve"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utide.solve" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate amplitude, phase, confidence intervals of tidal constituents.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> (<em>array_like</em>) – Time in days since <code class="xref py py-obj docutils literal notranslate"><span class="pre">epoch</span></code>.</p></li>
<li><p><strong>u</strong> (<em>array_like</em>) – Sea-surface height, velocity component, etc.</p></li>
<li><p><strong>v</strong> (<em>{None</em><em>, </em><em>array_like}</em><em>, </em><em>optional</em>) – If <code class="xref py py-obj docutils literal notranslate"><span class="pre">u</span></code> is a velocity component, <code class="xref py py-obj docutils literal notranslate"><span class="pre">v</span></code> is the orthogonal component.</p></li>
<li><p><strong>lat</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a><em>, </em><em>required</em>) – Latitude in degrees.</p></li>
<li><p><strong>epoch</strong> ({string, <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.date" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">datetime.date</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">datetime.datetime</span></code></a>}, optional) – Valid strings are ‘python’ (default); ‘matlab’ if <code class="xref py py-obj docutils literal notranslate"><span class="pre">t</span></code> is
an array of Matlab datenums; or an arbitrary date in the
form ‘YYYY-MM-DD’.  The default corresponds to the Python
standard library <a class="reference external" href="https://docs.python.org/3/library/datetime.html#module-datetime" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">datetime</span></code></a> proleptic Gregorian calendar,
starting with 1 at 00:00 on January 1 of year 1; this is
the ‘datenum’ used by Matplotlib.</p></li>
<li><p><strong>constit</strong> (<em>{'auto'</em><em>, </em><em>sequence}</em><em>, </em><em>optional</em>) – List of strings with standard letter abbreviations of
tidal constituents; or ‘auto’ to let the list be determined
based on the time span.</p></li>
<li><p><strong>conf_int</strong> (<em>{'linear'</em><em>, </em><em>'MC'</em><em>, </em><em>'none'}</em><em>, </em><em>optional</em>) – If not ‘none’ (string), calculate linearized confidence
intervals, or use a Monte-Carlo simulation.</p></li>
<li><p><strong>method</strong> (<em>{'ols'</em><em>, </em><em>'robust'}</em><em>, </em><em>optional</em>) – Solve with ordinary least squares, or with a robust algorithm.</p></li>
<li><p><strong>trend</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>optional</em>) – True (default) to include a linear trend in the model.</p></li>
<li><p><strong>phase</strong> (<em>{'Greenwich'</em><em>, </em><em>'linear_time'</em><em>, </em><em>'raw'}</em><em>, </em><em>optional</em>) – Give Greenwich-referenced phase lags, an approximation
using linearized times, or raw lags.</p></li>
<li><p><strong>nodal</strong> (<em>{True</em><em>, </em><em>False</em><em>, </em><em>'linear_time'}</em><em>, </em><em>optional</em>) – True (default) to include nodal/satellite corrections;
‘linear_time’ to use the linearized time approximation;
False to omit nodal corrections.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>coef</strong> – Data container with all configuration and solution information:</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Bunch</p>
</dd>
<dt class="field-even">Other Parameters</dt>
<dd class="field-even"><ul>
<li><p><strong>infer</strong> (<em>{None, dict or Bunch}, optional; default is None.</em>) – If not None, the items are:</p>
<dl class="simple">
<dt><strong>inferred_names</strong><span class="classifier">{sequence of N strings}</span></dt><dd><p>inferred constituent names</p>
</dd>
<dt><strong>reference_names</strong><span class="classifier">{sequence of N strings}</span></dt><dd><p>reference constituent names</p>
</dd>
<dt><strong>amp_ratios</strong><span class="classifier">{sequence, N or 2N floats}</span></dt><dd><p>amplitude ratios (unitless)</p>
</dd>
<dt><strong>phase_offsets</strong><span class="classifier">{sequence, N or 2N floats}</span></dt><dd><p>phase offsets (degrees)</p>
</dd>
<dt><strong>approximate</strong><span class="classifier">{bool, optional (default is False)}</span></dt><dd><p>use approximate method</p>
</dd>
</dl>
<p>amp_ratios and phase_offsets have length N for a scalar
time series, or 2N for a vector series.</p>
</li>
<li><p><strong>order_constit</strong> (<em>{‘PE’, ‘SNR’, ‘frequency’, sequence}, optional</em>) – The default is ‘PE’ (percent energy) order, returning results ordered from
high energy to low.
The ‘SNR’ order is from high signal-to-noise ratio to low, and is
available only if <code class="xref py py-obj docutils literal notranslate"><span class="pre">conf_int</span></code> is not ‘none’. The
‘frequency’ order is from low to high frequency. Alternatively, a
sequence of constituent names may be supplied, typically the same list as
given in the <em>constit</em> option.</p></li>
<li><p><strong>MC_n</strong> (<em>integer, optional</em>) – Not yet implemented.</p></li>
<li><p><strong>robust_kw</strong> (<em>dict, optional</em>) – Keyword arguments for <a class="reference internal" href="internals/robustfit.html#module-utide.robustfit" title="utide.robustfit"><code class="xref py py-obj docutils literal notranslate"><span class="pre">robustfit</span></code></a>, if <code class="xref py py-obj docutils literal notranslate"><span class="pre">method</span></code> is ‘robust’.</p></li>
<li><p><strong>Rayleigh_min</strong> (<em>float</em>) – Minimum conventional Rayleigh criterion for automatic
constituent selection; default is 1.</p></li>
<li><p><strong>white</strong> (<em>bool</em>) – If False (default), use band-averaged spectra from the
residuals in the confidence limit estimates; if True,
assume a white background spectrum.</p></li>
<li><p><strong>verbose</strong> (<em>{True, False}, optional</em>) – True (default) turns on verbose output. False emits no messages.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><a class="reference internal" href="#utide.reconstruct" title="utide.reconstruct"><code class="xref py py-obj docutils literal notranslate"><span class="pre">utide.reconstruct</span></code></a> requires the calculation of confidence intervals.</p>
</div>
<p class="rubric">Notes</p>
<p>To be added: much additional explanation.</p>
<p>There will also be more “Other Parameters”.</p>
</dd></dl>

</div>
<div class="section" id="reconstruct">
<h2>reconstruct<a class="headerlink" href="#reconstruct" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="utide.reconstruct">
<code class="sig-prename descclassname"><span class="pre">utide.</span></code><code class="sig-name descname"><span class="pre">reconstruct</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coef</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">epoch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'python'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">constit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_SNR</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_PE</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utide/_reconstruct.html#reconstruct"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utide.reconstruct" title="Permalink to this definition">¶</a></dt>
<dd><p>Reconstruct a tidal signal.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> (<em>array_like</em>) – Time in days since <code class="docutils literal notranslate"><span class="pre">epoch</span></code>.</p></li>
<li><p><strong>coef</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">Bunch</span></code>) – Data structure returned by <a class="reference internal" href="#utide.solve" title="utide.solve"><code class="xref py py-obj docutils literal notranslate"><span class="pre">utide.solve</span></code></a>.</p></li>
<li><p><strong>epoch</strong> ({string, <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.date" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">datetime.date</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">datetime.datetime</span></code></a>}, optional) – Valid strings are ‘python’ (default); ‘matlab’ if <code class="xref py py-obj docutils literal notranslate"><span class="pre">t</span></code> is
an array of Matlab datenums; or an arbitrary date in the
form ‘YYYY-MM-DD’.  The default corresponds to the Python
standard library <a class="reference external" href="https://docs.python.org/3/library/datetime.html#module-datetime" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">datetime</span></code></a> proleptic Gregorian calendar,
starting with 1 on January 1 of year 1.</p></li>
<li><p><strong>verbose</strong> (<em>{True</em><em>, </em><em>False}</em><em>, </em><em>optional</em>) – True to enable output message (default). False turns off all
messages.</p></li>
<li><p><strong>constit</strong> (<em>{None</em><em>, </em><em>array_like}</em><em>, </em><em>optional</em>) – List of strings with standard letter abbreviations of
tidal constituents, to be used in reconstruction if present
in coef; alternative to the SNR and PE criteria.</p></li>
<li><p><strong>min_SNR</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a><em>, </em><em>optional</em><em>, </em><em>default 2</em>) – Include only the constituents with signal-to-noise SNR &gt;= min_SNR,
where SNR is based on the constituent confidence intervals in
<code class="docutils literal notranslate"><span class="pre">coef</span></code>.</p></li>
<li><p><strong>min_PE</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a><em>, </em><em>optional</em><em>, </em><em>default 0</em>) – Include only the constituents with percent energy PE &gt;= min_PE,
where PE is based on the amplitudes in <code class="docutils literal notranslate"><span class="pre">coef</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>tide</strong> – Scalar time series is returned as <code class="xref py py-obj docutils literal notranslate"><span class="pre">tide.h</span></code>; a vector
series as <code class="xref py py-obj docutils literal notranslate"><span class="pre">tide.u</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">tide.v</span></code>.  Each is an ndarray with
<code class="docutils literal notranslate"><span class="pre">np.nan</span></code> as the missing value.
Most input kwargs are included: ‘epoch’, ‘constit’,
‘min_SNR’, and ‘min_PE’.
The input time array is included as ‘t_in’, and ‘t_mpl’;
the former is the original input time argument, and the
latter is the time as a matplotlib datenum.  If ‘epoch’
is ‘python’, these will be identical, and the names will
point to the same array.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">Bunch</span></code></p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="bunch">
<h2>Bunch<a class="headerlink" href="#bunch" title="Permalink to this headline">¶</a></h2>
<p>The data structure used internally and to hold the output from
<code class="xref py py-obj docutils literal notranslate"><span class="pre">solve</span></code> is a hybrid; it is a dictionary subclass that provides
attribute access to its data.  For example, <code class="docutils literal notranslate"><span class="pre">coef['aux']</span></code> and
<code class="docutils literal notranslate"><span class="pre">coef.aux</span></code> can be used interchangeably.</p>
<dl class="py function">
<dt id="utide.utilities.Bunch">
<code class="sig-prename descclassname"><span class="pre">utide.utilities.</span></code><code class="sig-name descname"><span class="pre">Bunch</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utide/utilities.html#Bunch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utide.utilities.Bunch" title="Permalink to this definition">¶</a></dt>
<dd><p>A dictionary that also provides access via attributes.</p>
<p>Additional methods update_values and update_None provide
control over whether new keys are added to the dictionary
when updating, and whether an attempt to add a new key is
ignored or raises a KeyError.</p>
<p>The Bunch also prints differently than a normal
dictionary, using str() instead of repr() for its
keys and values, and in key-sorted order.  The printing
format can be customized by subclassing with a different
str_ftm class attribute.  Do not assign directly to this
class attribute, because that would substitute an instance
attribute which would then become part of the Bunch, and
would be reported as such by the keys() method.</p>
<p>To output a string representation with
a particular format, without subclassing, use the
formatted() method.</p>
</dd></dl>

</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Usage</a><ul>
<li><a class="reference internal" href="#solve">solve</a></li>
<li><a class="reference internal" href="#reconstruct">reconstruct</a></li>
<li><a class="reference internal" href="#bunch">Bunch</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="strategy.html"
                        title="previous chapter">Strategy</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="internals/index.html"
                        title="next chapter">Internal details</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/usage.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="internals/index.html" title="Internal details"
             >next</a> |</li>
        <li class="right" >
          <a href="strategy.html" title="Strategy"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">UTide 0.2.7.dev5+g8c97f5e documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Usage</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2015, Dan Codiga, Wesley Bowman, and contributors.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.5.2.
    </div>
  </body>
</html>